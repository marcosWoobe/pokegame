local heldTable = {
-- X --
[15587] = {attribute = "heldx", ident = 1}, -- Defense 1
[15588] = {attribute = "heldx", ident = 2}, -- Defense 2
[15589] = {attribute = "heldx", ident = 3}, -- Defense 3
[15590] = {attribute = "heldx", ident = 4}, -- Defense 4
[15591] = {attribute = "heldx", ident = 5}, -- Defense 5
[15592] = {attribute = "heldx", ident = 6}, -- Defense 6
[15593] = {attribute = "heldx", ident = 7}, -- Defense 7


[15559] = {attribute = "heldx", ident = 8}, ----- Attack 1
[15560] = {attribute = "heldx", ident = 9}, -- Attack 2
[15561] = {attribute = "heldx", ident = 10}, -- Attack 3
[15562] = {attribute = "heldx", ident = 11}, -- Attack 4
[15563] = {attribute = "heldx", ident = 12}, -- Attack 5
[15564] = {attribute = "heldx", ident = 13}, -- Attack 6
[15565] = {attribute = "heldx", ident = 14}, -- Attack 7


[15629] = {attribute = "heldx", ident = 15}, -- Return 1
[15630] = {attribute = "heldx", ident = 16}, -- Return 2
[15631] = {attribute = "heldx", ident = 17}, -- Return 3
[15632] = {attribute = "heldx", ident = 18}, -- Return 4
[15633] = {attribute = "heldx", ident = 19}, -- Return 5
[15634] = {attribute = "heldx", ident = 20}, -- Return 6
[15635] = {attribute = "heldx", ident = 21}, -- Return 7


[15601] = {attribute = "heldx", ident = 22}, -- Hellfire 1
[15602] = {attribute = "heldx", ident = 23}, -- Hellfire 2 
[15603] = {attribute = "heldx", ident = 24}, -- Hellfire 3
[15604] = {attribute = "heldx", ident = 25}, -- Hellfire 4 
[15605] = {attribute = "heldx", ident = 26}, -- Hellfire 5
[15606] = {attribute = "heldx", ident = 27}, -- Hellfire 6
[15607] = {attribute = "heldx", ident = 28}, -- Hellfire 7


[15622] = {attribute = "heldx", ident = 29}, -- Poison 1
[15623] = {attribute = "heldx", ident = 30}, -- Poison 2
[15624] = {attribute = "heldx", ident = 31}, -- Poison 3
[15625] = {attribute = "heldx", ident = 32}, -- Poison 4
[15626] = {attribute = "heldx", ident = 33}, -- Poison 5
[15627] = {attribute = "heldx", ident = 34}, -- Poison 6
[15628] = {attribute = "heldx", ident = 35}, -- Poison 7


[15573] = {attribute = "heldx", ident = 36}, -- Boost 1
[15574] = {attribute = "heldx", ident = 37}, -- Boost 2
[15575] = {attribute = "heldx", ident = 38}, -- Boost 3
[15576] = {attribute = "heldx", ident = 39}, -- Boost 4
[15577] = {attribute = "heldx", ident = 40}, -- Boost 5
[15578] = {attribute = "heldx", ident = 41}, -- Boost 6
[15579] = {attribute = "heldx", ident = 42}, -- Boost 7


[13976] = {attribute = "heldx", ident = 43}, -- Agility 1
[13977] = {attribute = "heldx", ident = 44}, -- Agility 2
[13978] = {attribute = "heldx", ident = 45}, -- Agility 3
[13979] = {attribute = "heldx", ident = 46}, -- Agility 4
[13980] = {attribute = "heldx", ident = 47}, -- Agility 5
[13981] = {attribute = "heldx", ident = 48}, -- Agility 6
[13982] = {attribute = "heldx", ident = 49}, -- Agility 7


[17446] = {attribute = "heldx", ident = 50}, -- Strafe 1
[17447] = {attribute = "heldx", ident = 51}, -- Strafe 2
[17448] = {attribute = "heldx", ident = 52}, -- Strafe 3
[17449] = {attribute = "heldx", ident = 53}, -- Strafe 4
[17450] = {attribute = "heldx", ident = 54}, -- Strafe 5
[17451] = {attribute = "heldx", ident = 55}, -- Strafe 6
[17452] = {attribute = "heldx", ident = 56}, -- Strafe 7 ok


[17439] = {attribute = "heldx", ident = 57}, -- Rage 1
[17440] = {attribute = "heldx", ident = 58}, -- Rage 2
[17441] = {attribute = "heldx", ident = 59}, -- Rage 3
[17442] = {attribute = "heldx", ident = 60}, -- Rage 4
[17443] = {attribute = "heldx", ident = 61}, -- Rage 5 
[17444] = {attribute = "heldx", ident = 62}, -- Rage 6
[17445] = {attribute = "heldx", ident = 63}, -- Rage 7 ok


[13983] = {attribute = "heldx", ident = 64}, -- Harden 1
[13984] = {attribute = "heldx", ident = 65}, -- Harden 2
[13985] = {attribute = "heldx", ident = 66}, -- Harden 3
[13986] = {attribute = "heldx", ident = 67}, -- Harden 4
[13987] = {attribute = "heldx", ident = 68}, -- Harden 5
[13988] = {attribute = "heldx", ident = 69}, -- Harden 6
[13989] = {attribute = "heldx", ident = 70}, -- Harden 7


[15594] = {attribute = "heldx", ident = 71}, -- Experience 1
[15595] = {attribute = "heldx", ident = 72}, -- Experience 2
[15596] = {attribute = "heldx", ident = 73}, -- Experience 3
[15597] = {attribute = "heldx", ident = 74}, -- Experience 4
[15598] = {attribute = "heldx", ident = 75}, -- Experience 5
[15599] = {attribute = "heldx", ident = 76}, -- Experience 6
[15600] = {attribute = "heldx", ident = 77}, -- Experience 7


[13962] = {attribute = "heldx", ident = 78}, -- Elemental 1
[13963] = {attribute = "heldx", ident = 79}, -- Elemental 2
[13964] = {attribute = "heldx", ident = 80}, -- Elemental 3
[13965] = {attribute = "heldx", ident = 81}, -- Elemental 4
[13966] = {attribute = "heldx", ident = 82}, -- Elemental 5
[13967] = {attribute = "heldx", ident = 83}, -- Elemental 6
[13968] = {attribute = "heldx", ident = 84}, -- Elemental 7


[15580] = {attribute = "heldx", ident = 85}, -- Critical 1
[15581] = {attribute = "heldx", ident = 86}, -- Critical 2
[15582] = {attribute = "heldx", ident = 87}, -- Critical 3
[15583] = {attribute = "heldx", ident = 88}, -- Critical 4
[15584] = {attribute = "heldx", ident = 89}, -- Critical 5
[15585] = {attribute = "heldx", ident = 90}, -- Critical 6
[15586] = {attribute = "heldx", ident = 91}, -- Critical 7


[15636] = {attribute = "heldx", ident = 92}, -- Vitality 1
[15637] = {attribute = "heldx", ident = 93}, -- Vitality 2
[15638] = {attribute = "heldx", ident = 94}, -- Vitality 3
[15639] = {attribute = "heldx", ident = 95}, -- Vitality 4
[15640] = {attribute = "heldx", ident = 96}, -- Vitality 5
[15641] = {attribute = "heldx", ident = 97}, -- Vitality 6
[15642] = {attribute = "heldx", ident = 98}, -- Vitality 7


[15608] = {attribute = "heldx", ident = 99}, -- Haste 1
[15609] = {attribute = "heldx", ident = 100}, -- Haste 2
[15610] = {attribute = "heldx", ident = 101}, -- Haste 3
[15611] = {attribute = "heldx", ident = 102}, -- Haste 4
[15612] = {attribute = "heldx", ident = 103}, -- Haste 5
[15613] = {attribute = "heldx", ident = 104}, -- Haste 6
[15614] = {attribute = "heldx", ident = 105}, -- Haste 7


[13990] = {attribute = "heldx", ident = 106}, -- Accuracy 1
[13991] = {attribute = "heldx", ident = 107}, -- Accuracy 2
[13992] = {attribute = "heldx", ident = 108}, -- Accuracy 3
[13993] = {attribute = "heldx", ident = 109}, -- Accuracy 4
[13994] = {attribute = "heldx", ident = 110}, -- Accuracy 5
[13995] = {attribute = "heldx", ident = 111}, -- Accuracy 6
[13996] = {attribute = "heldx", ident = 112}, -- Accuracy 7


[17623] = {attribute = "heldx", ident = 113}, -- Cooldown 3
[17624] = {attribute = "heldx", ident = 114}, -- Cooldown 5
[17625] = {attribute = "heldx", ident = 115}, -- Cooldown 7
[17626] = {attribute = "heldx", ident = 116}, -- Blink 5

[15566] = {attribute = "heldx", ident = 117}, -- X-Block 1
[15567] = {attribute = "heldx", ident = 118}, -- X-Block 2
[15568] = {attribute = "heldx", ident = 119}, -- X-Block 3 
[15569] = {attribute = "heldx", ident = 120}, -- X-Block 4
[15570] = {attribute = "heldx", ident = 121}, -- X-Block 5
[15571] = {attribute = "heldx", ident = 122}, -- X-Block 6 
[15572] = {attribute = "heldx", ident = 123}, -- X-Block 7

[15615] = {attribute = "heldx", ident = 124}, -- X-Lucky 1
[15616] = {attribute = "heldx", ident = 125}, -- X-Lucky 2
[15617] = {attribute = "heldx", ident = 126}, -- X-Lucky 3
[15618] = {attribute = "heldx", ident = 127}, -- X-Lucky 4
[15619] = {attribute = "heldx", ident = 128}, -- X-Lucky 5
[15620] = {attribute = "heldx", ident = 129}, -- X-Lucky 6
[15621] = {attribute = "heldx", ident = 130}, -- X-Lucky 7



-- Y -- 

[13941] = {attribute = "heldy", ident = 1}, -- Regeneration 1
[13942] = {attribute = "heldy", ident = 2}, -- Regeneration 2 
[13943] = {attribute = "heldy", ident = 3}, -- Regeneration 3
[13944] = {attribute = "heldy", ident = 4}, -- Regeneration 4
[13945] = {attribute = "heldy", ident = 5}, -- Regeneration 5
[13946] = {attribute = "heldy", ident = 6}, -- Regeneration 6
[13947] = {attribute = "heldy", ident = 7}, -- Regeneration 7 ok


[17409] = {attribute = "heldy", ident = 8}, -- Cure 1 
[17410] = {attribute = "heldy", ident = 9}, -- Cure 2  
[17411] = {attribute = "heldy", ident = 10}, -- Cure 3
[17412] = {attribute = "heldy", ident = 11}, -- Cure 4
[17413] = {attribute = "heldy", ident = 12}, -- Cure 5
[17414] = {attribute = "heldy", ident = 13}, -- Cure 6
[17415] = {attribute = "heldy", ident = 14}, -- Cure 7ok


[17416] = {attribute = "heldy", ident = 15}, -- Wing 1
[17417] = {attribute = "heldy", ident = 16}, -- Wing 2
[17418] = {attribute = "heldy", ident = 17}, -- Wing 3
[17419] = {attribute = "heldy", ident = 18}, -- Wing 4
[17420] = {attribute = "heldy", ident = 19}, -- Wing 5
[17421] = {attribute = "heldy", ident = 20}, -- Wing 6
[17422] = {attribute = "heldy", ident = 21}, -- Wing 7 ok

[17423] = {attribute = "heldy", ident = 22}, -- Teleport 1
[17424] = {attribute = "heldy", ident = 23}, -- Teleport 2
[17425] = {attribute = "heldy", ident = 24}, -- Teleport 3
[17426] = {attribute = "heldy", ident = 25}, -- Teleport 4
[17427] = {attribute = "heldy", ident = 26}, -- Teleport 5
[17428] = {attribute = "heldy", ident = 27}, -- Teleport 6
[17429] = {attribute = "heldy", ident = 28}, -- Teleport 7 ok

[17402] = {attribute = "heldy", ident = 29}, -- Control 1
[17403] = {attribute = "heldy", ident = 30}, -- Control 2
[17404] = {attribute = "heldy", ident = 31}, -- Control 3
[17405] = {attribute = "heldy", ident = 32}, -- Control 4
[17406] = {attribute = "heldy", ident = 33}, -- Control 5
[17407] = {attribute = "heldy", ident = 34}, -- Control 6
[17408] = {attribute = "heldy", ident = 35}, -- Control 7 ok

[17432] = {attribute = "heldy", ident = 36}, -- Y-Antiburn 4 ok 
[17431] = {attribute = "heldy", ident = 37}, -- Antiself 4 ok
[17430] = {attribute = "heldy", ident = 38}, -- Antipoison 4 
[15643] = {attribute = "heldy", ident = 39}, -- Ghost 4 ok
[17433] = {attribute = "heldy", ident = 40}, -- Light 4 ok
--[17434] = {attribute = "heldy", ident = 41}, -- Headbutt 4 ok
[17435] = {attribute = "heldy", ident = 42}, -- Dig 4 ok
[17436] = {attribute = "heldy", ident = 43}, -- Smash 4 ok
[17437] = {attribute = "heldy", ident = 44}, -- Cut 4 ok
--[17438] = {attribute = "heldy", ident = 45}, -- Blur 4 ok


-----------------megas----------------------
-- MEgas --
[15792] = {attribute = "heldy", ident = 350}, -- Blazikenite 1
[19621] = {attribute = "heldy", ident = 351}, -- Beedrillite 2
[19622] = {attribute = "heldy", ident = 352}, -- Houndoominite 3
[15791] = {attribute = "heldy", ident = 353}, -- Pidgeotite 4
[15790] = {attribute = "heldy", ident = 354}, -- Swampertile 5
[15789] = {attribute = "heldy", ident = 355}, -- Sceptilite 6
[15784] = {attribute = "heldy", ident = 356}, -- Scizorite 7
[15134] = {attribute = "heldy", ident = 357}, -- Charizardite X

[15135] = {attribute = "heldy", ident = 4000},

}

local megas = {
    --["Charizardite Y"] = {id = 15135, megaID = "Y", pokeName = "Charizard"},
	[15135] = {attribute = "heldy", ident = 4000, pokeName = "Charizard"},
	[15792] = {attribute = "heldy", ident = 350, pokeName = "Blaziken"}, -- Blazikenite 1
	[19621] = {attribute = "heldy", ident = 351, pokeName = "Beedrill"}, -- Beedrillite 2
	[19622] = {attribute = "heldy", ident = 352, pokeName = "Houndoom"}, -- Houndoominite 3
	[15791] = {attribute = "heldy", ident = 353, pokeName = "Pidgeot"}, -- Pidgeotite 4
	[15790] = {attribute = "heldy", ident = 354, pokeName = "Swampert"}, -- Swampertile 5
	[15789] = {attribute = "heldy", ident = 355, pokeName = "Sceptile"}, -- Sceptilite 6
	[15784] = {attribute = "heldy", ident = 356, pokeName = "Scizor"}, -- Scizorite 7
	[15134] = {attribute = "heldy", ident = 357, pokeName = "Charizard"}, -- Charizardite X
}

function onUse(cid, item, frompos, item2, topos)

    if not isPokeball(item2.itemid) or #getCreatureSummons(cid) > 0 then return false end
    if not heldTable[item.itemid] then return false end

    held = heldTable[item.itemid]
    pokename = getItemAttribute(item2.uid, "poke")
    heldname = getItemInfo(item.itemid).name 
    if megas[item.itemid] and pokename ~= megas[item.itemid].pokeName then
	    sendMsgToPlayer(cid, 27, "VocÃª deve usar esse item no "..megas[item.itemid].pokeName..".")
	    return true
	end
    doSetItemAttribute(item2.uid, held.attribute, held.ident)
    doRemoveItem(item.uid, 1)
    doSendMagicEffect(getThingPos(cid), 14)
    sendMsgToPlayer(cid, 27, "Your "..pokename.." has gained a "..heldname..".")
    return true
end